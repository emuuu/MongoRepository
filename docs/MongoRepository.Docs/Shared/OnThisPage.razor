@namespace MongoRepository.Docs.Shared
@inject NavigationManager Navigation

@if (Headings is not null && Headings.Count > 0)
{
    <aside class="on-this-page d-none d-xl-block">
        <h6 class="text-uppercase text-muted fw-bold mb-3">On this page</h6>
        <nav>
            <ul class="list-unstyled">
                @foreach (var heading in Headings)
                {
                    var anchorUrl = new Uri(Navigation.Uri).GetLeftPart(UriPartial.Path) + "#" + heading.Id;
                    <li class="@(heading.Level == 3 ? "ms-3" : "")">
                        <a href="@anchorUrl" class="text-decoration-none text-muted d-block py-1 on-this-page-link">
                            @heading.Text
                        </a>
                    </li>
                }
            </ul>
        </nav>
    </aside>
}

@code {
    [Parameter] public List<HeadingInfo>? Headings { get; set; }
}
