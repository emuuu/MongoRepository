name: Release MongoRepository
on:
  push:
    tags: ['mongorepository/v*']
  workflow_dispatch:

permissions:
  contents: write

jobs:
  release:
    uses: ./.github/workflows/release-package.yml
    with:
      package: mongorepository
      csproj-path: src/MongoRepository/MongoRepository.csproj
      test-directory: tests/MongoRepository.Tests
      title-prefix: MongoGenericRepository
    secrets:
      nuget-api-key: ${{ secrets.NUGET_API_KEY }}
